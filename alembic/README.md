# Alembic database migration

Generic single-database configuration.

## Schema name (IMPORTANT)

PyCDS is agnostic to schema name. The schema name is specified by the environment variable
`PYCDS_SCHEMA_NAME`, and defaults to `'crmp'` when the environment variable is not set.

An autogenerated migration script (`alembic -x db=<db> revision --autogenerate -m "message""`)
will set the schema name to the schema in the database on which the autogenerate was based.
It appears as the keyword parameter `schema=<schema>` throughout the autogenerated code.
You must replace this with the schema name returned by `pycds.get_schema_name()`. 
See migration 'create initial databaase' for example code.

Ideally this would be handled by a post-write hook, but at present it is a manual operation. 
